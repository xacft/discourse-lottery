# 🏆 多奖品抽奖功能指南

## 🎯 功能概述

现在您的抽奖插件支持多奖品功能！可以设置多个奖品，开奖时会选择多个获奖者，并按排名显示。

## 📝 使用方法

### **基本语法**
```
[lottery title="抽奖标题" prize="奖品名称" count="奖品个数" cost="积分" max="人数"]
```

### **奖品个数参数**
- `count="3"` - 设置3个奖品（3个获奖者）
- `prize_count="5"` - 设置5个奖品（别名）
- `winners="10"` - 设置10个获奖者（别名）

## 🎮 完整示例

### **示例1：3个获奖者的抽奖**
```
🎉 三重大奖抽奖！

[lottery title="iPhone三重奖" prize="iPhone 15 Pro" count="3" cost="100" max="50"]

本次抽奖将选出3名获奖者，分别获得iPhone 15 Pro一台！
```

### **示例2：定时多奖品抽奖**
```
⏰ 定时多重大奖！

[lottery title="新年十重奖" prize="现金红包" count="10" cost="50" auto_draw="2h"]

2小时后自动开奖，选出10名幸运获奖者！
```

### **示例3：免费多奖品抽奖**
```
🎁 免费多重福利！

[lottery title="感谢回馈抽奖" prize="精美周边礼品" count="5" cost="0" max="100"]

免费参与，5份精美礼品等你来拿！
```

## 🖥️ 界面显示

### **创建阶段界面**
```
┌─────────────────────────────────────┐
│ 🎉 iPhone三重奖                     │
│                                     │
│ 奖品: iPhone 15 Pro (共3份)         │
│ 参与人数: 25/50 (剩余 25 名额)      │
│ 消耗: 100 积分                      │
│                                     │
│ [参与抽奖 (100 积分)] [开奖]        │
│                                     │
└─────────────────────────────────────┘
```

### **开奖后界面**
```
┌─────────────────────────────────────┐
│ 🎉 iPhone三重奖                     │
│                                     │
│ 奖品: iPhone 15 Pro (共3份)         │
│ 参与人数: 50/50                     │
│ 消耗: 100 积分                      │
│                                     │
│ 🎉 恭喜以下 3 位获奖者！            │
│ ┌─────────────────────────────────┐ │
│ │ 第1名        @alice             │ │
│ │ 第2名        @bob               │ │
│ │ 第3名        @charlie           │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 开奖已完成                          │
└─────────────────────────────────────┘
```

## 🏆 获奖排名系统

### **排名规则**
- **第1名**: 一等奖 / 1st Prize
- **第2名**: 二等奖 / 2nd Prize  
- **第3名**: 三等奖 / 3rd Prize
- **第4名及以后**: 第N名 / Nth Prize

### **排名显示**
- 按获奖顺序显示
- 每个获奖者都有明确的排名
- 支持中英文排名显示
- 获奖者用户名可点击

## ⚙️ 技术特性

### **智能获奖者选择**
- ✅ 随机选择获奖者
- ✅ 防重复获奖
- ✅ 自动适应参与人数
- ✅ 排名自动分配

### **参与人数处理**
- 如果参与人数少于奖品数量，所有参与者都获奖
- 例如：设置5个奖品，只有3人参与，则3人都获奖

### **数据存储**
- 每个获奖者单独记录
- 包含排名信息
- 获奖时间记录
- 支持历史查询

## 📋 参数详解

### **count 参数**
| 值 | 说明 | 获奖者数量 |
|---|------|-----------|
| `count="1"` | 单个奖品（默认） | 1人 |
| `count="3"` | 三重奖 | 3人 |
| `count="5"` | 五重奖 | 5人 |
| `count="10"` | 十重奖 | 10人 |

### **参数别名**
- `count` = `prize_count` = `winners`
- 三个参数效果相同，可任选其一

## 🎯 使用场景

### **1. 节日庆典**
```
[lottery title="春节十重奖" prize="新年红包" count="10" cost="0"]
```

### **2. 会员回馈**
```
[lottery title="VIP专享三重奖" prize="高级会员礼包" count="3" cost="200"]
```

### **3. 活动推广**
```
[lottery title="新品发布五重奖" prize="限量版商品" count="5" cost="50" auto_draw="24h"]
```

### **4. 社区互动**
```
[lottery title="每日签到奖励" prize="积分奖励" count="20" cost="0" max="100"]
```

## ⚠️ 注意事项

### **奖品数量限制**
- 建议不超过参与人数的50%
- 最多建议不超过20个奖品
- 考虑奖品发放的实际能力

### **参与人数要求**
- 至少需要1人参与才能开奖
- 参与人数少于奖品数时，所有人获奖
- 建议设置合理的参与人数上限

### **开奖公平性**
- 使用随机算法选择获奖者
- 每人只能获奖一次
- 排名按随机选择顺序确定

## 🔧 管理员功能

### **开奖控制**
- 手动开奖：立即选择多个获奖者
- 自动开奖：到时间自动选择获奖者
- 取消抽奖：取消未开奖的多奖品抽奖

### **结果查看**
- 查看所有获奖者列表
- 获奖者排名信息
- 开奖时间记录

## 🚀 高级用法

### **组合参数使用**
```
[lottery title="终极大奖赛" prize="豪华大礼包" count="5" cost="500" max="100" auto_draw="2024-12-31 23:59"]
```

### **分层奖品设计**
虽然系统按排名显示，但您可以在奖品描述中体现差异：
```
[lottery title="分层大奖" prize="一等奖MacBook/二等奖iPad/三等奖AirPods" count="3" cost="200"]
```

## 📊 最佳实践

### **奖品数量建议**
- **小型活动**: 1-3个奖品
- **中型活动**: 3-10个奖品  
- **大型活动**: 10-20个奖品

### **积分设置建议**
- 多奖品抽奖可以设置较高积分
- 考虑获奖概率与积分成本的平衡
- 免费多奖品适合推广活动

### **时间安排建议**
- 给用户足够的参与时间
- 多奖品抽奖建议延长参与时间
- 合理设置自动开奖时间

---

🎉 **现在您可以创建各种多奖品抽奖活动了！**
